<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
      lang="EN">
<head>
    <meta charset="utf-8"/>
    <title>SuperShop</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <div style="text-align: center;">
        <h1>Super Shop</h1>
    </div>

    <!--cart start-->
    <!--            <div class="container" sec:authorize="isAuthenticated()">-->
    <!--                <div class="row">-->
    <!--                    <div class="col-sm">-->
    <!--                        <a class="nav-link" th:href="@{/profile}" th:text="Profile">PROFILE</a>-->
    <!--                    </div>-->
    <!--                    <div class="col-sm">-->
    <!--                        <form th:action="@{/logout}" method="POST" class="form-inline">-->
    <!--                            <button id="navLogout" class="btn btn-outline-secondary" type="submit"  th:text="logout"></button>-->
    <!--                        </form>-->
    <!--                    </div>-->
    <!--                    место для корзины-->
    <!--                </div>-->
    <!--            </div>-->

    <div class="col-sm">
        <a class="nav-link" th:href="@{/cart}" th:text="CART + '(' + ${cart.size() + ')'}">CART</a>
    </div>

    <!--cart end-->

    <table class="table table-hover">
        <thead class="thead-dark">
        <tr>
            <th>#</th>
            <th>Наименование</th>
            <th>Картинка</th>
            <th>Описание</th>
            <th>Цена</th>
            <th>Дата добавления</th>
            <th>Доступность</th>
            <th>В корзину</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="product, iterator : ${products}">

                        <span>
                            <td th:text="${iterator.index + 1}"/>
                            <td>
                                <a th:href="@{'/products/' + ${product.id}}">[[ ${product.title} ]]</a>
                            </td>


                            <td>
                                <div>
                                    <img th:src="@{'/products/image/' + ${product.id}}" alt="" width="50px"
                                         height="50px"/>
                                </div>
                            </td>

                            <td th:text="${product.description}"/>
                            <td th:text="${product.price}"/>
                            <td th:text="${#dates.format(product.added, 'dd-MM-yyyy')}"/>
                            <td th:text="${product.available}"/>
                            <td>
                                <a th:href="@{'/cart/add/' + ${product.id}}">
                                        <img th:src="@{'/products/images/cart.png'}" alt="" width="30px" height="30px"/>
                                    </a>
                            </td>
                        </span>
        </tr>
        </tbody>
    </table>
    <hr>

    Категория продуктов:
    <form th:action="@{/}" method="get">
        <select name="category">
            <option th:text="'Не выбрано'" th:value="null"/>

            <!--/*@thymesVar id="values" type="ru.mystore.store.persistence.entities.enums.ProductCategory"*/-->
            <option th:each="c : ${T(ru.mystore.store.persistence.entities.enums.ProductCategory).values()}"
                    th:value="${c.ordinal()}"
                    th:text="${c.name}"
            />
        </select>
        <button type="submit">применить</button>
    </form>

    Фильтр по доступности:
    <form th:action="@{/}" method="get">
        <select name="ava">
            <option value="0">0</option>
            <option value="1">1</option>
        </select>
        <button type="submit">применить</button>
    </form>


</div>
</body>
</html>